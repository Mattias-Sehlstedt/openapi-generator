openapi: 3.1.0
info:
  title: ""
  version: ""
components:
  schemas:
    WithNullableType:
      type: object
      required:
        # This simplifies the output
        - arrayDataOrNull
        - stringDataOrNull
        - oneOfOrNull
        - oneOfPrimitiveAliasOrNull
      properties:
        arrayDataOrNull:
          items:
            $ref: "#/components/schemas/SomeObject"
          type:
            - array
            - 'null'
        # This was working when this fixture was introduced,
        # but we need to make sure we don't regress
        stringDataOrNull:
          type:
            - string
            - 'null'
        # This was working when this fixture was introduced,
        # but we need to make sure we don't regress
        oneOfOrNull:
          oneOf:
            - $ref: "#/components/schemas/SomeObject"
            - type: 'null'
        oneOfPrimitiveAliasOrNull:
          oneOf:
            - $ref: "#/components/schemas/PrimitiveAlias"
            - type: 'null'
    SomeObject:
      type: object
      properties:
        data:
          type: string
    PrimitiveAlias:
      type: integer
      format: int32
      description: AliasDescription